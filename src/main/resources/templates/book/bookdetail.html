<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/header::head('환영합니다')}"></head>

<style>
	button {
    margin: 20px;
	}
	.w-btn {
		cursor: pointer;
	    position: relative;
	    border: none;
	    display: inline-block;
	    padding: 15px 30px;
	    border-radius: 15px;
	    font-family: "paybooc-Light", sans-serif;
	    text-decoration: none;
	    font-weight: 600;
	    transition: 0.25s;
	}
	.w-btn-outline {
	    position: relative;
	    padding: 15px 30px;
	    border-radius: 15px;
	    font-family: "paybooc-Light", sans-serif;
	    text-decoration: none;
	    font-weight: 600;
	    transition: 0.25s;
	}
	
	.w-btn-indigo {
	    background-color: rgb(101, 128, 207);
	    color: black;
	}
	
	.w-btn-indigo-outline {
	    border: 3px solid rgb(101, 128, 207);
	    color: black;
	}
	
	.w-btn-indigo-outline:hover {
	    color: black;
	    background: rgb(101, 128, 207);
	}
	
	
	img{
		height:80%;
		width: 90%;
	}
	textarea {
		width: 80%;
		height: 100px;
		padding: 10px;
		box-sizing: border-box;
		border: solid 2px #1E90FF;
		border-radius: 5px;
		font-size: 16px;
		resize: both;
	}

	.bookDetailAll {
		min-height: 700px;
		margin:170px 50px 0px 50px;
		border:1px solid black;
	}
	.bookDetailandPayment{
		display: flex;
		width:100%;
		height: 400px;
		margin-top:10px;
	
	}
	.bookImage {
		height: 100%;
		width: 300px;
		margin-left:10px;
	} 
	.bookDetail {
    	width: 50%;
    	height: 80%;
    	border:1px solid black;
	    text-align: left;
	}
	.bookDetail > div {
		height: 10%;
	    width: 100%;
	    text-align: left;
	}
	.payment {
    	width: 20%;
    	float: right;
    	height: 30%;
    	margin: 0 auto;
    	display: flex;
     	flex-direction: column;
      	align-items: center;
      	text-align: center;
	}
	.reviewBtnandContent {
		display: flex;
	}
	
	
</style>
<body>

	<div th:replace="~{layout/header::gnb}"></div>
		<div class="bookDetailAll">
			<div class="bookDetailandPayment">
				<div class="bookImage"><img th:src="${bookDetail.bookImage}"></div>
				<div class="bookDetail">
					<div>
						<strong>제목 : </strong>
						<strong th:text="${bookDetail.bookTitle}"></strong>
					</div>
					<div>
						<strong>저자 : </strong>
						<strong th:text="${bookDetail.bookAuthor}"></strong>
					</div>
					<div>
						<strong>가격 : </strong>
						<strong th:text="${bookDetail.bookPrice}"></strong>
					</div>
					<div>
						<strong>출간일자 : </strong>
						<strong th:text="${bookDetail.bookAt}"></strong>
					</div>
					<div>
						<strong>줄거리 : </strong>
						<strong th:text="${bookDetail.bookDescription}"></strong>
					</div>
				</div>
				<div class="payment">
					<form method="post" th:action="@{/cart/addCart.do}">
						<input type="hidden" value="1" name="userNo">
						<input type="hidden" th:value="${bookDetail.bookNo}" name="bookNo">
						<div><input type="number" id="count" min="1" max="10" value="1" name="count">개</div>
						<button class="w-btn w-btn-indigo">장바구니 담기</button>
					</form>
				</div>
			</div>	
			<hr>
			<form method="post" th:action="@{/book/bookReviewadd.do}">
				<div class="bookReview">
					<strong>한줄평 등록</strong>
					<div class="reviewBtnandContent">
				    	<textarea id="review" name="review" rows="4" cols="50" placeholder="한줄평을 입력해주세요!"></textarea>
					    <button class="w-btn w-btn-indigo">등록</button>
				  	</div>
					<div>
					    <label>별점:</label>
					    <input type="radio" id="star5" name="rating" value="1">
					    <label for="star5">★</label>
					    <input type="radio" id="star4" name="rating" value="2">
					    <label for="star4">★★</label>
					    <input type="radio" id="star3" name="rating" value="3">
					    <label for="star3">★★★</label>
					    <input type="radio" id="star2" name="rating" value="4">
					    <label for="star2">★★★★</label>
					    <input type="radio" id="star1" name="rating" value="5">
					    <label for="star1">★★★★★</label>
					</div>
					<input type="hidden" th:value="${bookDetail.bookNo}" name="bookNo">
				</div>
			</form>
			<div>
				<th:block th:each="review,vs:${bookReview}">
					<strong th:text="${review.userDTO.userId}"></strong>
					<strong th:text="${review.bookReview}"></strong>
					<th:block th:if="${review.bookRating == 1}">★</th:block>
					<th:block th:if="${review.bookRating == 2}">★★</th:block>
					<th:block th:if="${review.bookRating == 3}">★★★</th:block>
					<th:block th:if="${review.bookRating == 4}">★★★★</th:block>
					<th:block th:if="${review.bookRating == 5}">★★★★★</th:block>
				</th:block>
			</div>
		</div>
	<div th:replace="~{layout/footer::foot}"></div>
	
</body>
<script>
	$(function(){
		let addResult = /*[[${addResult}]]*/ null;
		
		if(addResult != null){
			if(addResult == 2){
				alert('한줄평이 등록되었습니다.');
			} else {
				alert('한줄평이 등록되지 않았습니다.');
			}
		}
	})
	 
</script>
</html>